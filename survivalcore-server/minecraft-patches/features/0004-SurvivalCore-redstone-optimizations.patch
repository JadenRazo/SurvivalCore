From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: JadenRazo <jadenrazo@yahoo.com>
Date: Thu, 12 Feb 2026 22:07:45 +0000
Subject: [PATCH] SurvivalCore redstone optimizations


diff --git a/net/minecraft/world/level/block/ObserverBlock.java b/net/minecraft/world/level/block/ObserverBlock.java
index bd2aa00ce8b78c16f6107064dd00bfbb072df0df..acf65027055dbc7fc75b0300c384482292ba221b 100644
--- a/net/minecraft/world/level/block/ObserverBlock.java
+++ b/net/minecraft/world/level/block/ObserverBlock.java
@@ -89,6 +89,14 @@ public class ObserverBlock extends DirectionalBlock {
 
     private void startSignal(LevelReader level, ScheduledTickAccess scheduledTickAccess, BlockPos pos) {
         if (!level.isClientSide() && !scheduledTickAccess.getBlockTicks().hasScheduledTick(pos, this)) {
+            // SurvivalCore start - Observer debounce
+            if (net.survivalcore.survival.ObserverDebounce.isEnabled()) {
+                long currentTick = level instanceof net.minecraft.world.level.Level worldLevel ? worldLevel.getGameTime() : 0L;
+                if (!net.survivalcore.survival.ObserverDebounce.get().shouldFire(pos.asLong(), currentTick)) {
+                    return;
+                }
+            }
+            // SurvivalCore end
             scheduledTickAccess.scheduleTick(pos, this, 2);
         }
     }
diff --git a/net/minecraft/world/ticks/LevelTicks.java b/net/minecraft/world/ticks/LevelTicks.java
index 7ea0273018b1a364a5e2b7bf57da840383c8ffa5..6cbe731857982a75db6788ce358938e16c86d413 100644
--- a/net/minecraft/world/ticks/LevelTicks.java
+++ b/net/minecraft/world/ticks/LevelTicks.java
@@ -70,6 +70,13 @@ public class LevelTicks<T> implements LevelTickAccess<T> {
 
     @Override
     public void schedule(ScheduledTick<T> tick) {
+        // SurvivalCore start - Tick coalescing
+        if (net.survivalcore.survival.TickCoalescer.isEnabled()) {
+            if (!net.survivalcore.survival.TickCoalescer.get().shouldTick(tick.pos().asLong())) {
+                return;
+            }
+        }
+        // SurvivalCore end
         long packedChunkPos = ChunkPos.asLong(tick.pos());
         LevelChunkTicks<T> levelChunkTicks = this.allContainers.get(packedChunkPos);
         if (levelChunkTicks == null) {
